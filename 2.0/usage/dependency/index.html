
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.13">
    
    
      
        <title>Manage Dependencies - PDM</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e411adfe.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#manage-dependencies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
  <span>
    For updates follow <a href="https://twitter.com/pdm_project" style="color: currentColor"><strong>@PDM</strong> on
    <span class="twemoji">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </span>
    <strong>Twitter</strong></a>.
  </span>
  <span>
    Consider sponsoring us on
    <a href="https://github.com/sponsors/pdm-project" style="color: currentColor">
      <span class="twemoji">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="m244 84 11.1 12 12-11.98C300.6 51.37 347 36.51 392.6 44.1c68.9 11.48 119.4 71.1 119.4 141v5.8c0 41.5-17.2 81.2-47.6 109.5L283.7 469.1c-7.5 7-17.4 10.9-27.7 10.9s-20.2-3.9-27.7-10.9L47.59 300.4C17.23 272.1 0 232.4 0 190.9v-5.8c0-69.9 50.52-129.52 119.4-141 44.7-7.59 92 7.27 124.6 39.9-.9 0 0 .01 0 0zm11.1 79.9-45-46.8c-21.7-20.82-52.5-30.7-82.8-25.66C81.55 99.07 48 138.7 48 185.1v5.8c0 28.2 11.71 55.2 32.34 74.4L256 429.3l175.7-164c20.6-19.2 32.3-46.2 32.3-74.4v-5.8c0-46.4-33.6-86.03-79.3-93.66-30.3-5.04-61.1 4.84-82.8 25.66l-46.8 46.8z"/></svg>
      </span>
      <strong>GitHub</strong>
    </a>.
  </span>

          </div>
        </aside>
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PDM" class="md-header__button md-logo" aria-label="PDM" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PDM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Manage Dependencies
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pdm-project/pdm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PDM" class="md-nav__button md-logo" aria-label="PDM" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    PDM
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pdm-project/pdm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Manage Dependencies
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Manage Dependencies
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initialize-a-project" class="md-nav__link">
    Initialize a project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-dependencies" class="md-nav__link">
    Add dependencies
  </a>
  
    <nav class="md-nav" aria-label="Add dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-dependencies" class="md-nav__link">
    Local dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vcs-dependencies" class="md-nav__link">
    VCS dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-development-only-dependencies" class="md-nav__link">
    Add development only dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editable-dependencies" class="md-nav__link">
    Editable dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-version-specifiers" class="md-nav__link">
    Save version specifiers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-prereleases" class="md-nav__link">
    Add prereleases
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-existing-dependencies" class="md-nav__link">
    Update existing dependencies
  </a>
  
    <nav class="md-nav" aria-label="Update existing dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#about-update-strategy" class="md-nav__link">
    About update strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-packages-to-the-versions-that-break-the-version-specifiers" class="md-nav__link">
    Update packages to the versions that break the version specifiers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-existing-dependencies" class="md-nav__link">
    Remove existing dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-packages-pinned-in-lock-file" class="md-nav__link">
    Install the packages pinned in lock file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specify-the-lockfile-to-use" class="md-nav__link">
    Specify the lockfile to use
  </a>
  
    <nav class="md-nav" aria-label="Specify the lockfile to use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#select-a-subset-of-dependencies-with-cli-options" class="md-nav__link">
    Select a subset of dependencies with CLI options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-what-packages-are-installed" class="md-nav__link">
    Show what packages are installed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-pypi-index-url" class="md-nav__link">
    Set PyPI index URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allow-prerelease-versions-to-be-installed" class="md-nav__link">
    Allow prerelease versions to be installed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-acceptable-format-for-locking-or-installing" class="md-nav__link">
    Set acceptable format for locking or installing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solve-the-locking-failure" class="md-nav__link">
    Solve the locking failure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-variables-expansion" class="md-nav__link">
    Environment variables expansion
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">
        Manage Project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/" class="md-nav__link">
        PDM Scripts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hooks/" class="md-nav__link">
        Lifecycle and hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        Advanced Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli_reference/" class="md-nav__link">
        CLI Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Writing pyproject.toml
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Writing pyproject.toml" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Writing pyproject.toml
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pyproject/pep621/" class="md-nav__link">
        PEP 621 Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pyproject/tool-pdm/" class="md-nav__link">
        PDM Tool Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../pyproject/build/" class="md-nav__link">
        Build Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugin/write/" class="md-nav__link">
        Write a plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugin/reference/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/changelog/" class="md-nav__link">
        Change Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/benchmark/" class="md-nav__link">
        Benchmark
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initialize-a-project" class="md-nav__link">
    Initialize a project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-dependencies" class="md-nav__link">
    Add dependencies
  </a>
  
    <nav class="md-nav" aria-label="Add dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-dependencies" class="md-nav__link">
    Local dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vcs-dependencies" class="md-nav__link">
    VCS dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-development-only-dependencies" class="md-nav__link">
    Add development only dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editable-dependencies" class="md-nav__link">
    Editable dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#save-version-specifiers" class="md-nav__link">
    Save version specifiers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-prereleases" class="md-nav__link">
    Add prereleases
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update-existing-dependencies" class="md-nav__link">
    Update existing dependencies
  </a>
  
    <nav class="md-nav" aria-label="Update existing dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#about-update-strategy" class="md-nav__link">
    About update strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-packages-to-the-versions-that-break-the-version-specifiers" class="md-nav__link">
    Update packages to the versions that break the version specifiers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-existing-dependencies" class="md-nav__link">
    Remove existing dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-the-packages-pinned-in-lock-file" class="md-nav__link">
    Install the packages pinned in lock file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specify-the-lockfile-to-use" class="md-nav__link">
    Specify the lockfile to use
  </a>
  
    <nav class="md-nav" aria-label="Specify the lockfile to use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#select-a-subset-of-dependencies-with-cli-options" class="md-nav__link">
    Select a subset of dependencies with CLI options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#show-what-packages-are-installed" class="md-nav__link">
    Show what packages are installed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-pypi-index-url" class="md-nav__link">
    Set PyPI index URL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allow-prerelease-versions-to-be-installed" class="md-nav__link">
    Allow prerelease versions to be installed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-acceptable-format-for-locking-or-installing" class="md-nav__link">
    Set acceptable format for locking or installing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solve-the-locking-failure" class="md-nav__link">
    Solve the locking failure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-variables-expansion" class="md-nav__link">
    Environment variables expansion
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/pdm-project/pdm/edit/main/docs/docs/usage/dependency.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="manage-dependencies">Manage Dependencies<a class="headerlink" href="#manage-dependencies" title="Permanent link">#</a></h1>
<p>PDM provides a bunch of handful commands to help manage your project and dependencies.
The following examples are run on Ubuntu 18.04, a few changes must be done if you are using Windows.</p>
<h2 id="initialize-a-project">Initialize a project<a class="headerlink" href="#initialize-a-project" title="Permanent link">#</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>mkdir pdm-test <span class="o">&amp;&amp;</span> <span class="nb">cd</span> pdm-test
pdm init
</code></pre></div></td></tr></table></div>
<p>Answer several questions asked by PDM and a <code>pyproject.toml</code> will be created for you in the project root:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">[project]</span><span class="w"></span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;pdm-test&quot;</span><span class="w"></span>
<span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0.0.0&quot;</span><span class="w"></span>
<span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"></span>
<span class="n">authors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Frost Ming&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;mianghong@gmail.com&quot;</span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
<span class="n">license</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;MIT&quot;</span><span class="p">}</span><span class="w"></span>
<span class="n">requires-python</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&gt;=3.7&quot;</span><span class="w"></span>

<span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>If <code>pyproject.toml</code> is already present, it will be updated with the metadata. The metadata format follows the
<a href="https://www.python.org/dev/peps/pep-0621/">PEP 621 specification</a></p>
<p>For details of the meaning of each field in <code>pyproject.toml</code>, please refer to <a href="../../pyproject/pep621/">Project File</a>.</p>
<h2 id="add-dependencies">Add dependencies<a class="headerlink" href="#add-dependencies" title="Permanent link">#</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm add requests
</code></pre></div></td></tr></table></div>
<p><a href="../cli_reference/#exec-0--add"><code>pdm add</code></a> can be followed by one or several dependencies, and the dependency specification is described in
<a href="https://www.python.org/dev/peps/pep-0508/">PEP 508</a>.</p>
<p>PDM also allows extra dependency groups by providing <code>-G/--group &lt;name&gt;</code> option, and those dependencies will go to
<code>[project.optional-dependencies.&lt;name&gt;]</code> table in the project file, respectively.</p>
<p>After that, dependencies and sub-dependencies will be resolved properly and installed for you, you can view <code>pdm.lock</code> to see the resolved result of all dependencies.</p>
<h3 id="local-dependencies">Local dependencies<a class="headerlink" href="#local-dependencies" title="Permanent link">#</a></h3>
<p>Local packages can be added with their paths. The path can be a file or a directory:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm add ./sub-package
pdm add ./first-1.0.0-py2.py3-none-any.whl
</code></pre></div></td></tr></table></div>
<p>The paths MUST start with a <code>.</code>, otherwise it will be recognized as a normal named requirement.</p>
<h3 id="vcs-dependencies">VCS dependencies<a class="headerlink" href="#vcs-dependencies" title="Permanent link">#</a></h3>
<p>You can also install from a git repository url or other version control systems. The following are supported:</p>
<ul>
<li>Git: <code>git</code></li>
<li>Mercurial: <code>hg</code></li>
<li>Subversion: <code>svn</code></li>
<li>Bazaar: <code>bzr</code></li>
</ul>
<p>The URL should be like: <code>{vcs}+{url}@{rev}</code></p>
<p>Examples:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Install pip repo on tag `22.0`</span>
pdm add <span class="s2">&quot;git+https://github.com/pypa/pip.git@22.0&quot;</span>
<span class="c1"># Provide credentials in the URL</span>
pdm add <span class="s2">&quot;git+https://username:password@github.com/username/private-repo.git@master&quot;</span>
<span class="c1"># Give a name to the dependency</span>
pdm add <span class="s2">&quot;pip @ git+https://github.com/pypa/pip.git@22.0&quot;</span>
<span class="c1"># Or use the #egg fragment</span>
pdm add <span class="s2">&quot;git+https://github.com/pypa/pip.git@22.0#egg=pip&quot;</span>
</code></pre></div></td></tr></table></div>
<h3 id="add-development-only-dependencies">Add development only dependencies<a class="headerlink" href="#add-development-only-dependencies" title="Permanent link">#</a></h3>
<p><em>New in 1.5.0</em></p>
<p>PDM also supports defining groups of dependencies that are useful for development,
e.g. some for testing and others for linting. We usually don't want these dependencies appear in the distribution's metadata
so using <code>optional-dependencies</code> is probably not a good idea. We can define them as development dependencies:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm add -dG <span class="nb">test</span> pytest
</code></pre></div></td></tr></table></div>
<p>This will result in a pyproject.toml as following:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">[tool.pdm.dev-dependencies]</span><span class="w"></span>
<span class="n">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;pytest&quot;</span><span class="p">]</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>For backward-compatibility, if only <code>-d</code> or <code>--dev</code> is specified, dependencies will go to <code>dev</code> group under <code>[tool.pdm.dev-dependencies]</code> by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The same group name MUST NOT appear in both <code>[tool.pdm.dev-dependencies]</code> and <code>[project.optional-dependencies]</code>.</p>
</div>
<h3 id="editable-dependencies">Editable dependencies<a class="headerlink" href="#editable-dependencies" title="Permanent link">#</a></h3>
<p><strong>Local directories</strong> and <strong>VCS dependencies</strong> can be installed in <a href="https://pip.pypa.io/en/stable/cli/pip_install/#editable-installs">editable mode</a>. If you are familiar with <code>pip</code>, it is just like <code>pip install -e &lt;package&gt;</code>. <strong>Editable packages are allowed only in development dependencies</strong>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># A relative path to the directory</span>
pdm add -e ./sub-package
<span class="c1"># A file URL to a local directory</span>
pdm add -e file:///path/to/sub-package
<span class="c1"># A VCS URL</span>
pdm add -e git+https://github.com/pallets/click.git@main#egg<span class="o">=</span>click
</code></pre></div></td></tr></table></div>
<h3 id="save-version-specifiers">Save version specifiers<a class="headerlink" href="#save-version-specifiers" title="Permanent link">#</a></h3>
<p>If the package is given without a version specifier like <code>pdm add requests</code>. PDM provides three different behaviors of what version
specifier is saved for the dependency, which is given by <code>--save-&lt;strategy&gt;</code>(Assume <code>2.21.0</code> is the latest version that can be found
for the dependency):</p>
<ul>
<li><code>minimum</code>: Save the minimum version specifier: <code>&gt;=2.21.0</code> (default).</li>
<li><code>compatible</code>: Save the compatible version specifier: <code>&gt;=2.21.0,&lt;3.0.0</code>.</li>
<li><code>exact</code>: Save the exact version specifier: <code>==2.21.0</code>.</li>
<li><code>wildcard</code>: Don't constrain version and leave the specifier to be wildcard: <code>*</code>.</li>
</ul>
<h3 id="add-prereleases">Add prereleases<a class="headerlink" href="#add-prereleases" title="Permanent link">#</a></h3>
<p>One can give <code>--pre/--prerelease</code> option to <a href="../cli_reference/#exec-0--add"><code>pdm add</code></a> so that prereleases are allowed to be pinned for the given packages.</p>
<h2 id="update-existing-dependencies">Update existing dependencies<a class="headerlink" href="#update-existing-dependencies" title="Permanent link">#</a></h2>
<p>To update all dependencies in the lock file:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm update
</code></pre></div></td></tr></table></div>
<p>To update the specified package(s):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm update requests
</code></pre></div></td></tr></table></div>
<p>To update multiple groups of dependencies:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm update -G security -G http
</code></pre></div></td></tr></table></div>
<p>To update a given package in the specified group:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm update -G security cryptography
</code></pre></div></td></tr></table></div>
<p>If the group is not given, PDM will search for the requirement in the default dependencies set and raises an error if none is found.</p>
<p>To update packages in development dependencies:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Update all default + dev-dependencies</span>
pdm update -d
<span class="c1"># Update a package in the specified group of dev-dependencies</span>
pdm update -dG <span class="nb">test</span> pytest
</code></pre></div></td></tr></table></div>
<h3 id="about-update-strategy">About update strategy<a class="headerlink" href="#about-update-strategy" title="Permanent link">#</a></h3>
<p>Similarly, PDM also provides 2 different behaviors of updating dependencies and sub-dependenciesï¼Œ
which is given by <code>--update-&lt;strategy&gt;</code> option:</p>
<ul>
<li><code>reuse</code>: Keep all locked dependencies except for those given in the command line (default).</li>
<li><code>eager</code>: Try to lock a newer version of the packages in command line and their recursive sub-dependencies and keep other dependencies as they are.</li>
<li><code>all</code>: Update all dependencies and sub-dependencies.</li>
</ul>
<h3 id="update-packages-to-the-versions-that-break-the-version-specifiers">Update packages to the versions that break the version specifiers<a class="headerlink" href="#update-packages-to-the-versions-that-break-the-version-specifiers" title="Permanent link">#</a></h3>
<p>One can give <code>-u/--unconstrained</code> to tell PDM to ignore the version specifiers in the <code>pyproject.toml</code>.
This works similarly to the <code>yarn upgrade -L/--latest</code> command. Besides, <a href="../cli_reference/#exec-0--update"><code>pdm update</code></a> also supports the
<code>--pre/--prerelease</code> option.</p>
<h2 id="remove-existing-dependencies">Remove existing dependencies<a class="headerlink" href="#remove-existing-dependencies" title="Permanent link">#</a></h2>
<p>To remove existing dependencies from project file and the library directory:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Remove requests from the default dependencies</span>
pdm remove requests
<span class="c1"># Remove h11 from the &#39;web&#39; group of optional-dependencies</span>
pdm remove -G web h11
<span class="c1"># Remove pytest-cov from the `test` group of dev-dependencies</span>
pdm remove -dG <span class="nb">test</span> pytest-cov
</code></pre></div></td></tr></table></div>
<h2 id="install-the-packages-pinned-in-lock-file">Install the packages pinned in lock file<a class="headerlink" href="#install-the-packages-pinned-in-lock-file" title="Permanent link">#</a></h2>
<p>There are two similar commands to do this job with a slight difference:</p>
<ul>
<li><a href="../cli_reference/#exec-0--install"><code>pdm install</code></a> will check the lock file and relock if it mismatches with project file, then install.</li>
<li><a href="../cli_reference/#exec-0--update"><code>pdm update</code></a> installs dependencies in the lock file and will error out if it doesn't exist. Besides, <a href="../cli_reference/#exec-0--sync"><code>pdm sync</code></a> can also remove unneeded packages if <code>--clean</code> option is given.</li>
</ul>
<h2 id="specify-the-lockfile-to-use">Specify the lockfile to use<a class="headerlink" href="#specify-the-lockfile-to-use" title="Permanent link">#</a></h2>
<p>You can specify another lockfile than the default <a href="../cli_reference/#exec-0--lock"><code>pdm lock</code></a> by using the <code>-L/--lockfilie &lt;filepath&gt;</code> option or the <code>PDM_LOCKFILE</code> environment variable.</p>
<h3 id="select-a-subset-of-dependencies-with-cli-options">Select a subset of dependencies with CLI options<a class="headerlink" href="#select-a-subset-of-dependencies-with-cli-options" title="Permanent link">#</a></h3>
<p>Say we have a project with following dependencies:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">[</span><span class="n">project</span><span class="p">]</span><span class="w">  </span><span class="c1"># This is production dependencies</span><span class="w"></span>
<span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;requests&quot;</span><span class="p">]</span><span class="w"></span>

<span class="p">[</span><span class="n">project</span><span class="p">.</span><span class="n">optional-dependencies</span><span class="p">]</span><span class="w">  </span><span class="c1"># This is optional dependencies</span><span class="w"></span>
<span class="n">extra1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;flask&quot;</span><span class="p">]</span><span class="w"></span>
<span class="n">extra2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;django&quot;</span><span class="p">]</span><span class="w"></span>

<span class="p">[</span><span class="n">tool</span><span class="p">.</span><span class="n">pdm</span><span class="p">.</span><span class="n">dev-dependencies</span><span class="p">]</span><span class="w">  </span><span class="c1"># This is dev dependencies</span><span class="w"></span>
<span class="n">dev1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;pytest&quot;</span><span class="p">]</span><span class="w"></span>
<span class="n">dev2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;mkdocs&quot;</span><span class="p">]</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<table>
<thead>
<tr>
<th>Command</th>
<th>What it does</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pdm install</code></td>
<td>install prod and dev deps (no optional)</td>
<td></td>
</tr>
<tr>
<td><code>pdm install -G extra1</code></td>
<td>install prod deps, dev deps, and "extra1" optional group</td>
<td></td>
</tr>
<tr>
<td><code>pdm install -G dev1</code></td>
<td>install prod deps and only "dev1" dev group</td>
<td></td>
</tr>
<tr>
<td><code>pdm install -G:all</code></td>
<td>install prod deps, dev deps and "extra1", "extra2" optional groups</td>
<td></td>
</tr>
<tr>
<td><code>pdm install -G extra1 -G dev1</code></td>
<td>install prod deps, "extra1" optional group and only "dev1" dev group</td>
<td></td>
</tr>
<tr>
<td><code>pdm install --prod</code></td>
<td>install prod only</td>
<td></td>
</tr>
<tr>
<td><code>pdm install --prod -G extra1</code></td>
<td>install prod deps and "extra1" optional</td>
<td></td>
</tr>
<tr>
<td><code>pdm install --prod -G dev1</code></td>
<td>Fail, <code>--prod</code> can't be given with dev dependencies</td>
<td>Leave the <code>--prod</code> option</td>
</tr>
</tbody>
</table>
<p><strong>All</strong> development dependencies are included as long as <code>--prod</code> is not passed and <code>-G</code> doesn't specify any dev groups.</p>
<p>Besides, if you don't want the root project to be installed, add <code>--no-self</code> option, and <code>--no-editable</code> can be used when you want all packages to be installed in non-editable versions. With <code>--no-editable</code> turn on, you can safely archive the whole <code>__pypackages__</code> and copy it to the target environment for deployment.</p>
<h2 id="show-what-packages-are-installed">Show what packages are installed<a class="headerlink" href="#show-what-packages-are-installed" title="Permanent link">#</a></h2>
<p>Similar to <code>pip list</code>, you can list all packages installed in the packages directory:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm list
</code></pre></div></td></tr></table></div>
<p>Or show a dependency graph by:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code>$ pdm list --graph
tempenv 0.0.0
â””â”€â”€ click 7.0 [ required: &lt;7.0.0,&gt;=6.7 ]
black 19.10b0
â”œâ”€â”€ appdirs 1.4.3 [ required: Any ]
â”œâ”€â”€ attrs 19.3.0 [ required: &gt;=18.1.0 ]
â”œâ”€â”€ click 7.0 [ required: &gt;=6.5 ]
â”œâ”€â”€ pathspec 0.7.0 [ required: &lt;1,&gt;=0.6 ]
â”œâ”€â”€ regex 2020.2.20 [ required: Any ]
â”œâ”€â”€ toml 0.10.0 [ required: &gt;=0.9.4 ]
â””â”€â”€ typed-ast 1.4.1 [ required: &gt;=1.4.0 ]
bump2version 1.0.0
</code></pre></div></td></tr></table></div>
<h2 id="set-pypi-index-url">Set PyPI index URL<a class="headerlink" href="#set-pypi-index-url" title="Permanent link">#</a></h2>
<p>You can specify a PyPI mirror URL by following commands:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm config pypi.url https://test.pypi.org/simple
</code></pre></div></td></tr></table></div>
<p>By default, PDM will read the pip's configuration files to decide the PyPI URL, and fallback
to <code>https://pypi.org/simple</code> if none is found.</p>
<h2 id="allow-prerelease-versions-to-be-installed">Allow prerelease versions to be installed<a class="headerlink" href="#allow-prerelease-versions-to-be-installed" title="Permanent link">#</a></h2>
<p>Include the following setting in <code>pyproject.toml</code> to enable:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">[tool.pdm]</span><span class="w"></span>
<span class="n">allow_prereleases</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<h2 id="set-acceptable-format-for-locking-or-installing">Set acceptable format for locking or installing<a class="headerlink" href="#set-acceptable-format-for-locking-or-installing" title="Permanent link">#</a></h2>
<p>If you want to control the format(binary/sdist) of the packages, you can set the env vars <code>PDM_NO_BINARY</code> and <code>PDM_ONLY_BINARY</code>.</p>
<p>Each env var is a comma-separated list of package name. You can set it to <code>:all:</code> to apply to all packages. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code># No binary for werkzeug will be locked nor used for installation
PDM_NO_BINARY=werkzeug pdm add flask
# Only binaries will be locked in the lock file
PDM_ONLY_BINARY=:all: pdm lock
# No binaries will be used for installation
PDM_NO_BINARY=:all: pdm install
</code></pre></div></td></tr></table></div>
<h2 id="solve-the-locking-failure">Solve the locking failure<a class="headerlink" href="#solve-the-locking-failure" title="Permanent link">#</a></h2>
<p>If PDM is not able to find a resolution to satisfy the requirements, it will raise an error. For example,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>pdm <span class="nv">django</span><span class="o">==</span><span class="m">3</span>.1.4 <span class="s2">&quot;asgiref&lt;3&quot;</span>
...
ðŸ”’ Lock failed
Unable to find a resolution <span class="k">for</span> asgiref because of the following conflicts:
  asgiref&lt;<span class="m">3</span> <span class="o">(</span>from project<span class="o">)</span>
  asgiref&lt;<span class="m">4</span>,&gt;<span class="o">=</span><span class="m">3</span>.2.10 <span class="o">(</span>from &lt;Candidate django <span class="m">3</span>.1.4 from https://pypi.org/simple/django/&gt;<span class="o">)</span>
To fix this, you could loosen the dependency version constraints <span class="k">in</span> pyproject.toml. If that is not possible, you could also override the resolved version <span class="k">in</span> <span class="o">[</span>tool.pdm.overrides<span class="o">]</span> table.
</code></pre></div></td></tr></table></div>
<p>You can either change to a lower version of <code>django</code> or remove the upper bound of <code>asgiref</code>. But if it is not eligible for your project,
you can tell PDM to forcedly resolve <code>asgiref</code> to a specific version by adding the following lines to <code>pyproject.toml</code>:</p>
<p><em>New in version 1.12.0</em></p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">[tool.pdm.overrides]</span><span class="w"></span>
<span class="n">asgiref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;3.2.10&quot;</span><span class="w">  </span><span class="c1"># exact version</span><span class="w"></span>
<span class="n">urllib3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&gt;=1.26.2&quot;</span><span class="w">  </span><span class="c1"># version range</span><span class="w"></span>
<span class="n">pytz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;file:///${PROJECT_ROOT}/pytz-2020.9-py3-none-any.whl&quot;</span><span class="w">  </span><span class="c1"># absolute URL</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
Each entry of that table is a package name with the wanted version.
In this example, PDM will resolve the above packages into the given versions no matter whether there is any other resolution available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By using <code>[tool.pdm.overrides]</code> setting, you are at your own risk of any incompatibilities from that resolution. It can only be
used if there is no valid resolution for your requirements and you know the specific version works.
Most of the time, you can just add any transient constraints to the <code>dependencies</code> array.</p>
</div>
<h2 id="environment-variables-expansion">Environment variables expansion<a class="headerlink" href="#environment-variables-expansion" title="Permanent link">#</a></h2>
<p>For convenience, PDM supports environment variables expansion in the dependency specification under some circumstances:</p>
<ul>
<li>Environment variables in the URL auth part will be expanded: <code>https://${USERNAME}:${PASSWORD}/artifacts.io/Flask-1.1.2.tar.gz</code>.
  It is also okay to not give the auth part in the URL directly, PDM will ask for them when <code>-v/--verbose</code> is on.</li>
<li><code>${PROJECT_ROOT}</code> will be expanded with the absolute path of the project root, in POSIX style(i.e. forward slash <code>/</code>, even on Windows).
  For consistency, URLs that refer to a local path under <code>${PROJECT_ROOT}</code> must start with <code>file:///</code>(three slashes), e.g.
  <code>file:///${PROJECT_ROOT}/artifacts/Flask-1.1.2.tar.gz</code>.</li>
</ul>
<p>Don't worry about credential leakage, the environment variables will be expanded when needed and kept untouched in the lock file.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../.." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="../project/" class="md-footer__link md-footer__link--next" aria-label="Next: Manage Project" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Manage Project
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2019-2021 <a href="https://frostming.com">Frost Ming</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/pdm-project/pdm" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/pdm_project" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://discord.gg/Phn8smztpv" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ed9748b7.min.js"></script>
      
    
  </body>
</html>